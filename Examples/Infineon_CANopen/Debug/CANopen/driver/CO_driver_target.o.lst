   1              	 .syntax unified
   2              	 .cpu cortex-m4
   3              	 .eabi_attribute 27,3
   4              	 .fpu fpv4-sp-d16
   5              	 .eabi_attribute 20,1
   6              	 .eabi_attribute 21,1
   7              	 .eabi_attribute 23,3
   8              	 .eabi_attribute 24,1
   9              	 .eabi_attribute 25,1
  10              	 .eabi_attribute 26,1
  11              	 .eabi_attribute 30,6
  12              	 .eabi_attribute 34,1
  13              	 .eabi_attribute 18,4
  14              	 .thumb
  15              	 .file "CO_driver_target.c"
  16              	 .text
  17              	.Ltext0:
  18              	 .cfi_sections .debug_frame
  19              	 .section .text.CO_CANsetConfigurationMode,"ax",%progbits
  20              	 .align 2
  21              	 .global CO_CANsetConfigurationMode
  22              	 .thumb
  23              	 .thumb_func
  25              	CO_CANsetConfigurationMode:
  26              	.LFB6:
  27              	 .file 1 "../CANopen/driver/CO_driver_target.c"
   1:../CANopen/driver/CO_driver_target.c **** /*
   2:../CANopen/driver/CO_driver_target.c ****  * CAN module object for generic microcontroller.
   3:../CANopen/driver/CO_driver_target.c ****  *
   4:../CANopen/driver/CO_driver_target.c ****  * This file is a template for other microcontrollers.
   5:../CANopen/driver/CO_driver_target.c ****  *
   6:../CANopen/driver/CO_driver_target.c ****  * @file        CO_driver.c
   7:../CANopen/driver/CO_driver_target.c ****  * @ingroup     CO_driver
   8:../CANopen/driver/CO_driver_target.c ****  * @author      Janez Paternoster
   9:../CANopen/driver/CO_driver_target.c ****  * @copyright   2004 - 2020 Janez Paternoster
  10:../CANopen/driver/CO_driver_target.c ****  *
  11:../CANopen/driver/CO_driver_target.c ****  * This file is part of CANopenNode, an opensource CANopen Stack.
  12:../CANopen/driver/CO_driver_target.c ****  * Project home page is <https://github.com/CANopenNode/CANopenNode>.
  13:../CANopen/driver/CO_driver_target.c ****  * For more information on CANopen see <http://www.can-cia.org/>.
  14:../CANopen/driver/CO_driver_target.c ****  *
  15:../CANopen/driver/CO_driver_target.c ****  * Licensed under the Apache License, Version 2.0 (the "License");
  16:../CANopen/driver/CO_driver_target.c ****  * you may not use this file except in compliance with the License.
  17:../CANopen/driver/CO_driver_target.c ****  * You may obtain a copy of the License at
  18:../CANopen/driver/CO_driver_target.c ****  *
  19:../CANopen/driver/CO_driver_target.c ****  *     http://www.apache.org/licenses/LICENSE-2.0
  20:../CANopen/driver/CO_driver_target.c ****  *
  21:../CANopen/driver/CO_driver_target.c ****  * Unless required by applicable law or agreed to in writing, software
  22:../CANopen/driver/CO_driver_target.c ****  * distributed under the License is distributed on an "AS IS" BASIS,
  23:../CANopen/driver/CO_driver_target.c ****  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  24:../CANopen/driver/CO_driver_target.c ****  * See the License for the specific language governing permissions and
  25:../CANopen/driver/CO_driver_target.c ****  * limitations under the License.
  26:../CANopen/driver/CO_driver_target.c ****  */
  27:../CANopen/driver/CO_driver_target.c **** 
  28:../CANopen/driver/CO_driver_target.c **** 
  29:../CANopen/driver/CO_driver_target.c **** #include "301/CO_driver.h"
  30:../CANopen/driver/CO_driver_target.c **** #include "CANopenHardware.h"
  31:../CANopen/driver/CO_driver_target.c **** #include "CANopenNode.h"
  32:../CANopen/driver/CO_driver_target.c **** 
  33:../CANopen/driver/CO_driver_target.c **** /******************************************************************************/
  34:../CANopen/driver/CO_driver_target.c **** void CO_CANsetConfigurationMode(void *CANptr){
  28              	 .loc 1 34 0
  29              	 .cfi_startproc
  30              	 
  31              	 
  32              	 
  33 0000 80B4     	 push {r7}
  34              	.LCFI0:
  35              	 .cfi_def_cfa_offset 4
  36              	 .cfi_offset 7,-4
  37 0002 83B0     	 sub sp,sp,#12
  38              	.LCFI1:
  39              	 .cfi_def_cfa_offset 16
  40 0004 00AF     	 add r7,sp,#0
  41              	.LCFI2:
  42              	 .cfi_def_cfa_register 7
  43 0006 7860     	 str r0,[r7,#4]
  35:../CANopen/driver/CO_driver_target.c ****     /* Put CAN module in configuration mode */
  36:../CANopen/driver/CO_driver_target.c **** }
  44              	 .loc 1 36 0
  45 0008 0C37     	 adds r7,r7,#12
  46              	.LCFI3:
  47              	 .cfi_def_cfa_offset 4
  48 000a BD46     	 mov sp,r7
  49              	.LCFI4:
  50              	 .cfi_def_cfa_register 13
  51              	 
  52 000c 5DF8047B 	 ldr r7,[sp],#4
  53              	.LCFI5:
  54              	 .cfi_restore 7
  55              	 .cfi_def_cfa_offset 0
  56 0010 7047     	 bx lr
  57              	 .cfi_endproc
  58              	.LFE6:
  60 0012 00BF     	 .section .text.CO_CANsetNormalMode,"ax",%progbits
  61              	 .align 2
  62              	 .global CO_CANsetNormalMode
  63              	 .thumb
  64              	 .thumb_func
  66              	CO_CANsetNormalMode:
  67              	.LFB7:
  37:../CANopen/driver/CO_driver_target.c **** 
  38:../CANopen/driver/CO_driver_target.c **** 
  39:../CANopen/driver/CO_driver_target.c **** /******************************************************************************/
  40:../CANopen/driver/CO_driver_target.c **** void CO_CANsetNormalMode(CO_CANmodule_t *CANmodule){
  68              	 .loc 1 40 0
  69              	 .cfi_startproc
  70              	 
  71              	 
  72              	 
  73 0000 80B4     	 push {r7}
  74              	.LCFI6:
  75              	 .cfi_def_cfa_offset 4
  76              	 .cfi_offset 7,-4
  77 0002 83B0     	 sub sp,sp,#12
  78              	.LCFI7:
  79              	 .cfi_def_cfa_offset 16
  80 0004 00AF     	 add r7,sp,#0
  81              	.LCFI8:
  82              	 .cfi_def_cfa_register 7
  83 0006 7860     	 str r0,[r7,#4]
  41:../CANopen/driver/CO_driver_target.c ****     /* Put CAN module in normal mode */
  42:../CANopen/driver/CO_driver_target.c **** 
  43:../CANopen/driver/CO_driver_target.c ****     CANmodule->CANnormal = true;
  84              	 .loc 1 43 0
  85 0008 7B68     	 ldr r3,[r7,#4]
  86 000a 0122     	 movs r2,#1
  87 000c 5A61     	 str r2,[r3,#20]
  44:../CANopen/driver/CO_driver_target.c **** }
  88              	 .loc 1 44 0
  89 000e 0C37     	 adds r7,r7,#12
  90              	.LCFI9:
  91              	 .cfi_def_cfa_offset 4
  92 0010 BD46     	 mov sp,r7
  93              	.LCFI10:
  94              	 .cfi_def_cfa_register 13
  95              	 
  96 0012 5DF8047B 	 ldr r7,[sp],#4
  97              	.LCFI11:
  98              	 .cfi_restore 7
  99              	 .cfi_def_cfa_offset 0
 100 0016 7047     	 bx lr
 101              	 .cfi_endproc
 102              	.LFE7:
 104              	 .section .text.CO_CANmodule_init,"ax",%progbits
 105              	 .align 2
 106              	 .global CO_CANmodule_init
 107              	 .thumb
 108              	 .thumb_func
 110              	CO_CANmodule_init:
 111              	.LFB8:
  45:../CANopen/driver/CO_driver_target.c **** 
  46:../CANopen/driver/CO_driver_target.c **** 
  47:../CANopen/driver/CO_driver_target.c **** /******************************************************************************/
  48:../CANopen/driver/CO_driver_target.c **** CO_ReturnError_t CO_CANmodule_init(
  49:../CANopen/driver/CO_driver_target.c ****         CO_CANmodule_t         *CANmodule,
  50:../CANopen/driver/CO_driver_target.c ****         void                   *CANptr,
  51:../CANopen/driver/CO_driver_target.c ****         CO_CANrx_t              rxArray[],
  52:../CANopen/driver/CO_driver_target.c ****         uint16_t                rxSize,
  53:../CANopen/driver/CO_driver_target.c ****         CO_CANtx_t              txArray[],
  54:../CANopen/driver/CO_driver_target.c ****         uint16_t                txSize,
  55:../CANopen/driver/CO_driver_target.c ****         uint16_t                CANbitRate)
  56:../CANopen/driver/CO_driver_target.c **** {
 112              	 .loc 1 56 0
 113              	 .cfi_startproc
 114              	 
 115              	 
 116              	 
 117 0000 80B4     	 push {r7}
 118              	.LCFI12:
 119              	 .cfi_def_cfa_offset 4
 120              	 .cfi_offset 7,-4
 121 0002 87B0     	 sub sp,sp,#28
 122              	.LCFI13:
 123              	 .cfi_def_cfa_offset 32
 124 0004 00AF     	 add r7,sp,#0
 125              	.LCFI14:
 126              	 .cfi_def_cfa_register 7
 127 0006 F860     	 str r0,[r7,#12]
 128 0008 B960     	 str r1,[r7,#8]
 129 000a 7A60     	 str r2,[r7,#4]
 130 000c 7B80     	 strh r3,[r7,#2]
  57:../CANopen/driver/CO_driver_target.c ****     uint16_t i;
  58:../CANopen/driver/CO_driver_target.c **** 
  59:../CANopen/driver/CO_driver_target.c ****     /* verify arguments */
  60:../CANopen/driver/CO_driver_target.c ****     if(CANmodule==NULL || rxArray==NULL || txArray==NULL){
 131              	 .loc 1 60 0
 132 000e FB68     	 ldr r3,[r7,#12]
 133 0010 002B     	 cmp r3,#0
 134 0012 05D0     	 beq .L4
 135              	 .loc 1 60 0 is_stmt 0 discriminator 1
 136 0014 7B68     	 ldr r3,[r7,#4]
 137 0016 002B     	 cmp r3,#0
 138 0018 02D0     	 beq .L4
 139              	 .loc 1 60 0 discriminator 2
 140 001a 3B6A     	 ldr r3,[r7,#32]
 141 001c 002B     	 cmp r3,#0
 142 001e 01D1     	 bne .L5
 143              	.L4:
  61:../CANopen/driver/CO_driver_target.c ****         return CO_ERROR_ILLEGAL_ARGUMENT;
 144              	 .loc 1 61 0 is_stmt 1
 145 0020 FF23     	 movs r3,#255
 146 0022 6DE0     	 b .L6
 147              	.L5:
  62:../CANopen/driver/CO_driver_target.c ****     }
  63:../CANopen/driver/CO_driver_target.c **** 
  64:../CANopen/driver/CO_driver_target.c ****     /* Configure object variables */
  65:../CANopen/driver/CO_driver_target.c ****     CANmodule->CANptr = CANptr;
 148              	 .loc 1 65 0
 149 0024 FB68     	 ldr r3,[r7,#12]
 150 0026 BA68     	 ldr r2,[r7,#8]
 151 0028 1A60     	 str r2,[r3]
  66:../CANopen/driver/CO_driver_target.c ****     CANmodule->rxArray = rxArray;
 152              	 .loc 1 66 0
 153 002a FB68     	 ldr r3,[r7,#12]
 154 002c 7A68     	 ldr r2,[r7,#4]
 155 002e 5A60     	 str r2,[r3,#4]
  67:../CANopen/driver/CO_driver_target.c ****     CANmodule->rxSize = rxSize;
 156              	 .loc 1 67 0
 157 0030 FB68     	 ldr r3,[r7,#12]
 158 0032 7A88     	 ldrh r2,[r7,#2]
 159 0034 1A81     	 strh r2,[r3,#8]
  68:../CANopen/driver/CO_driver_target.c ****     CANmodule->txArray = txArray;
 160              	 .loc 1 68 0
 161 0036 FB68     	 ldr r3,[r7,#12]
 162 0038 3A6A     	 ldr r2,[r7,#32]
 163 003a DA60     	 str r2,[r3,#12]
  69:../CANopen/driver/CO_driver_target.c ****     CANmodule->txSize = txSize;
 164              	 .loc 1 69 0
 165 003c FB68     	 ldr r3,[r7,#12]
 166 003e BA8C     	 ldrh r2,[r7,#36]
 167 0040 1A82     	 strh r2,[r3,#16]
  70:../CANopen/driver/CO_driver_target.c ****     CANmodule->CANerrorStatus = 0;
 168              	 .loc 1 70 0
 169 0042 FB68     	 ldr r3,[r7,#12]
 170 0044 0022     	 movs r2,#0
 171 0046 5A82     	 strh r2,[r3,#18]
  71:../CANopen/driver/CO_driver_target.c ****     CANmodule->CANnormal = false;
 172              	 .loc 1 71 0
 173 0048 FB68     	 ldr r3,[r7,#12]
 174 004a 0022     	 movs r2,#0
 175 004c 5A61     	 str r2,[r3,#20]
  72:../CANopen/driver/CO_driver_target.c ****     CANmodule->useCANrxFilters = false;     // (rxSize <= 32U) ? true : false;  /* microcontroller 
 176              	 .loc 1 72 0
 177 004e FB68     	 ldr r3,[r7,#12]
 178 0050 0022     	 movs r2,#0
 179 0052 9A61     	 str r2,[r3,#24]
  73:../CANopen/driver/CO_driver_target.c ****     CANmodule->bufferInhibitFlag = false;
 180              	 .loc 1 73 0
 181 0054 FB68     	 ldr r3,[r7,#12]
 182 0056 0022     	 movs r2,#0
 183 0058 DA61     	 str r2,[r3,#28]
  74:../CANopen/driver/CO_driver_target.c ****     CANmodule->firstCANtxMessage = true;
 184              	 .loc 1 74 0
 185 005a FB68     	 ldr r3,[r7,#12]
 186 005c 0122     	 movs r2,#1
 187 005e 1A62     	 str r2,[r3,#32]
  75:../CANopen/driver/CO_driver_target.c ****     CANmodule->CANtxCount = 0U;
 188              	 .loc 1 75 0
 189 0060 FB68     	 ldr r3,[r7,#12]
 190 0062 0022     	 movs r2,#0
 191 0064 9A84     	 strh r2,[r3,#36]
  76:../CANopen/driver/CO_driver_target.c ****     CANmodule->errOld = 0U;
 192              	 .loc 1 76 0
 193 0066 FB68     	 ldr r3,[r7,#12]
 194 0068 0022     	 movs r2,#0
 195 006a 9A62     	 str r2,[r3,#40]
  77:../CANopen/driver/CO_driver_target.c **** 
  78:../CANopen/driver/CO_driver_target.c ****     for(i=0U; i<rxSize; i++){
 196              	 .loc 1 78 0
 197 006c 0023     	 movs r3,#0
 198 006e FB82     	 strh r3,[r7,#22]
 199 0070 2BE0     	 b .L7
 200              	.L8:
  79:../CANopen/driver/CO_driver_target.c ****         rxArray[i].ident = 0U;
 201              	 .loc 1 79 0 discriminator 3
 202 0072 FA8A     	 ldrh r2,[r7,#22]
 203 0074 1346     	 mov r3,r2
 204 0076 5B00     	 lsls r3,r3,#1
 205 0078 1344     	 add r3,r3,r2
 206 007a 9B00     	 lsls r3,r3,#2
 207 007c 1A46     	 mov r2,r3
 208 007e 7B68     	 ldr r3,[r7,#4]
 209 0080 1344     	 add r3,r3,r2
 210 0082 0022     	 movs r2,#0
 211 0084 1A80     	 strh r2,[r3]
  80:../CANopen/driver/CO_driver_target.c ****         rxArray[i].mask = 0xFFFFU;
 212              	 .loc 1 80 0 discriminator 3
 213 0086 FA8A     	 ldrh r2,[r7,#22]
 214 0088 1346     	 mov r3,r2
 215 008a 5B00     	 lsls r3,r3,#1
 216 008c 1344     	 add r3,r3,r2
 217 008e 9B00     	 lsls r3,r3,#2
 218 0090 1A46     	 mov r2,r3
 219 0092 7B68     	 ldr r3,[r7,#4]
 220 0094 1344     	 add r3,r3,r2
 221 0096 4FF6FF72 	 movw r2,#65535
 222 009a 5A80     	 strh r2,[r3,#2]
  81:../CANopen/driver/CO_driver_target.c ****         rxArray[i].object = NULL;
 223              	 .loc 1 81 0 discriminator 3
 224 009c FA8A     	 ldrh r2,[r7,#22]
 225 009e 1346     	 mov r3,r2
 226 00a0 5B00     	 lsls r3,r3,#1
 227 00a2 1344     	 add r3,r3,r2
 228 00a4 9B00     	 lsls r3,r3,#2
 229 00a6 1A46     	 mov r2,r3
 230 00a8 7B68     	 ldr r3,[r7,#4]
 231 00aa 1344     	 add r3,r3,r2
 232 00ac 0022     	 movs r2,#0
 233 00ae 5A60     	 str r2,[r3,#4]
  82:../CANopen/driver/CO_driver_target.c ****         rxArray[i].CANrx_callback = NULL;
 234              	 .loc 1 82 0 discriminator 3
 235 00b0 FA8A     	 ldrh r2,[r7,#22]
 236 00b2 1346     	 mov r3,r2
 237 00b4 5B00     	 lsls r3,r3,#1
 238 00b6 1344     	 add r3,r3,r2
 239 00b8 9B00     	 lsls r3,r3,#2
 240 00ba 1A46     	 mov r2,r3
 241 00bc 7B68     	 ldr r3,[r7,#4]
 242 00be 1344     	 add r3,r3,r2
 243 00c0 0022     	 movs r2,#0
 244 00c2 9A60     	 str r2,[r3,#8]
  78:../CANopen/driver/CO_driver_target.c ****         rxArray[i].ident = 0U;
 245              	 .loc 1 78 0 discriminator 3
 246 00c4 FB8A     	 ldrh r3,[r7,#22]
 247 00c6 0133     	 adds r3,r3,#1
 248 00c8 FB82     	 strh r3,[r7,#22]
 249              	.L7:
  78:../CANopen/driver/CO_driver_target.c ****         rxArray[i].ident = 0U;
 250              	 .loc 1 78 0 is_stmt 0 discriminator 1
 251 00ca FA8A     	 ldrh r2,[r7,#22]
 252 00cc 7B88     	 ldrh r3,[r7,#2]
 253 00ce 9A42     	 cmp r2,r3
 254 00d0 CFD3     	 bcc .L8
  83:../CANopen/driver/CO_driver_target.c ****     }
  84:../CANopen/driver/CO_driver_target.c ****     for(i=0U; i<txSize; i++){
 255              	 .loc 1 84 0 is_stmt 1
 256 00d2 0023     	 movs r3,#0
 257 00d4 FB82     	 strh r3,[r7,#22]
 258 00d6 0CE0     	 b .L9
 259              	.L10:
  85:../CANopen/driver/CO_driver_target.c ****         txArray[i].bufferFull = false;
 260              	 .loc 1 85 0 discriminator 3
 261 00d8 FA8A     	 ldrh r2,[r7,#22]
 262 00da 1346     	 mov r3,r2
 263 00dc 5B00     	 lsls r3,r3,#1
 264 00de 1344     	 add r3,r3,r2
 265 00e0 DB00     	 lsls r3,r3,#3
 266 00e2 1A46     	 mov r2,r3
 267 00e4 3B6A     	 ldr r3,[r7,#32]
 268 00e6 1344     	 add r3,r3,r2
 269 00e8 0022     	 movs r2,#0
 270 00ea 1A61     	 str r2,[r3,#16]
  84:../CANopen/driver/CO_driver_target.c ****         txArray[i].bufferFull = false;
 271              	 .loc 1 84 0 discriminator 3
 272 00ec FB8A     	 ldrh r3,[r7,#22]
 273 00ee 0133     	 adds r3,r3,#1
 274 00f0 FB82     	 strh r3,[r7,#22]
 275              	.L9:
  84:../CANopen/driver/CO_driver_target.c ****         txArray[i].bufferFull = false;
 276              	 .loc 1 84 0 is_stmt 0 discriminator 1
 277 00f2 FA8A     	 ldrh r2,[r7,#22]
 278 00f4 BB8C     	 ldrh r3,[r7,#36]
 279 00f6 9A42     	 cmp r2,r3
 280 00f8 EED3     	 bcc .L10
  86:../CANopen/driver/CO_driver_target.c ****     }
  87:../CANopen/driver/CO_driver_target.c **** 
  88:../CANopen/driver/CO_driver_target.c **** 
  89:../CANopen/driver/CO_driver_target.c ****     /* Configure CAN module registers */
  90:../CANopen/driver/CO_driver_target.c **** 
  91:../CANopen/driver/CO_driver_target.c **** 
  92:../CANopen/driver/CO_driver_target.c ****     /* Configure CAN timing */
  93:../CANopen/driver/CO_driver_target.c **** 
  94:../CANopen/driver/CO_driver_target.c **** 
  95:../CANopen/driver/CO_driver_target.c ****     /* Configure CAN module hardware filters */
  96:../CANopen/driver/CO_driver_target.c ****     if(CANmodule->useCANrxFilters){
 281              	 .loc 1 96 0 is_stmt 1
 282 00fa FB68     	 ldr r3,[r7,#12]
 283 00fc 9B69     	 ldr r3,[r3,#24]
  97:../CANopen/driver/CO_driver_target.c ****         /* CAN module filters are used, they will be configured with */
  98:../CANopen/driver/CO_driver_target.c ****         /* CO_CANrxBufferInit() functions, called by separate CANopen */
  99:../CANopen/driver/CO_driver_target.c ****         /* init functions. */
 100:../CANopen/driver/CO_driver_target.c ****         /* Configure all masks so, that received message must match filter */
 101:../CANopen/driver/CO_driver_target.c ****     }
 102:../CANopen/driver/CO_driver_target.c ****     else{
 103:../CANopen/driver/CO_driver_target.c ****         /* CAN module filters are not used, all messages with standard 11-bit */
 104:../CANopen/driver/CO_driver_target.c ****         /* identifier will be received */
 105:../CANopen/driver/CO_driver_target.c ****         /* Configure mask 0 so, that all messages with standard identifier are accepted */
 106:../CANopen/driver/CO_driver_target.c ****     }
 107:../CANopen/driver/CO_driver_target.c **** 
 108:../CANopen/driver/CO_driver_target.c **** 
 109:../CANopen/driver/CO_driver_target.c ****     /* configure CAN interrupt registers */
 110:../CANopen/driver/CO_driver_target.c **** 
 111:../CANopen/driver/CO_driver_target.c **** 
 112:../CANopen/driver/CO_driver_target.c ****     return CO_ERROR_NO;
 284              	 .loc 1 112 0
 285 00fe 0023     	 movs r3,#0
 286              	.L6:
 287 0100 5BB2     	 sxtb r3,r3
 113:../CANopen/driver/CO_driver_target.c **** }
 288              	 .loc 1 113 0
 289 0102 1846     	 mov r0,r3
 290 0104 1C37     	 adds r7,r7,#28
 291              	.LCFI15:
 292              	 .cfi_def_cfa_offset 4
 293 0106 BD46     	 mov sp,r7
 294              	.LCFI16:
 295              	 .cfi_def_cfa_register 13
 296              	 
 297 0108 5DF8047B 	 ldr r7,[sp],#4
 298              	.LCFI17:
 299              	 .cfi_restore 7
 300              	 .cfi_def_cfa_offset 0
 301 010c 7047     	 bx lr
 302              	 .cfi_endproc
 303              	.LFE8:
 305 010e 00BF     	 .section .text.CO_CANmodule_disable,"ax",%progbits
 306              	 .align 2
 307              	 .global CO_CANmodule_disable
 308              	 .thumb
 309              	 .thumb_func
 311              	CO_CANmodule_disable:
 312              	.LFB9:
 114:../CANopen/driver/CO_driver_target.c **** 
 115:../CANopen/driver/CO_driver_target.c **** 
 116:../CANopen/driver/CO_driver_target.c **** /******************************************************************************/
 117:../CANopen/driver/CO_driver_target.c **** void CO_CANmodule_disable(CO_CANmodule_t *CANmodule) {
 313              	 .loc 1 117 0
 314              	 .cfi_startproc
 315              	 
 316              	 
 317              	 
 318 0000 80B4     	 push {r7}
 319              	.LCFI18:
 320              	 .cfi_def_cfa_offset 4
 321              	 .cfi_offset 7,-4
 322 0002 83B0     	 sub sp,sp,#12
 323              	.LCFI19:
 324              	 .cfi_def_cfa_offset 16
 325 0004 00AF     	 add r7,sp,#0
 326              	.LCFI20:
 327              	 .cfi_def_cfa_register 7
 328 0006 7860     	 str r0,[r7,#4]
 118:../CANopen/driver/CO_driver_target.c ****     if (CANmodule != NULL) {
 119:../CANopen/driver/CO_driver_target.c ****         /* turn off the module */
 120:../CANopen/driver/CO_driver_target.c ****     }
 121:../CANopen/driver/CO_driver_target.c **** }
 329              	 .loc 1 121 0
 330 0008 0C37     	 adds r7,r7,#12
 331              	.LCFI21:
 332              	 .cfi_def_cfa_offset 4
 333 000a BD46     	 mov sp,r7
 334              	.LCFI22:
 335              	 .cfi_def_cfa_register 13
 336              	 
 337 000c 5DF8047B 	 ldr r7,[sp],#4
 338              	.LCFI23:
 339              	 .cfi_restore 7
 340              	 .cfi_def_cfa_offset 0
 341 0010 7047     	 bx lr
 342              	 .cfi_endproc
 343              	.LFE9:
 345 0012 00BF     	 .section .text.CO_CANrxBufferInit,"ax",%progbits
 346              	 .align 2
 347              	 .global CO_CANrxBufferInit
 348              	 .thumb
 349              	 .thumb_func
 351              	CO_CANrxBufferInit:
 352              	.LFB10:
 122:../CANopen/driver/CO_driver_target.c **** 
 123:../CANopen/driver/CO_driver_target.c **** 
 124:../CANopen/driver/CO_driver_target.c **** /******************************************************************************/
 125:../CANopen/driver/CO_driver_target.c **** CO_ReturnError_t CO_CANrxBufferInit(
 126:../CANopen/driver/CO_driver_target.c ****         CO_CANmodule_t         *CANmodule,
 127:../CANopen/driver/CO_driver_target.c ****         uint16_t                index,
 128:../CANopen/driver/CO_driver_target.c ****         uint16_t                ident,
 129:../CANopen/driver/CO_driver_target.c ****         uint16_t                mask,
 130:../CANopen/driver/CO_driver_target.c ****         bool_t                  rtr,
 131:../CANopen/driver/CO_driver_target.c ****         void                   *object,
 132:../CANopen/driver/CO_driver_target.c ****         void                  (*CANrx_callback)(void *object, void *message))
 133:../CANopen/driver/CO_driver_target.c **** {
 353              	 .loc 1 133 0
 354              	 .cfi_startproc
 355              	 
 356              	 
 357              	 
 358 0000 80B4     	 push {r7}
 359              	.LCFI24:
 360              	 .cfi_def_cfa_offset 4
 361              	 .cfi_offset 7,-4
 362 0002 87B0     	 sub sp,sp,#28
 363              	.LCFI25:
 364              	 .cfi_def_cfa_offset 32
 365 0004 00AF     	 add r7,sp,#0
 366              	.LCFI26:
 367              	 .cfi_def_cfa_register 7
 368 0006 F860     	 str r0,[r7,#12]
 369 0008 0846     	 mov r0,r1
 370 000a 1146     	 mov r1,r2
 371 000c 1A46     	 mov r2,r3
 372 000e 0346     	 mov r3,r0
 373 0010 7B81     	 strh r3,[r7,#10]
 374 0012 0B46     	 mov r3,r1
 375 0014 3B81     	 strh r3,[r7,#8]
 376 0016 1346     	 mov r3,r2
 377 0018 FB80     	 strh r3,[r7,#6]
 134:../CANopen/driver/CO_driver_target.c ****     CO_ReturnError_t ret = CO_ERROR_NO;
 378              	 .loc 1 134 0
 379 001a 0023     	 movs r3,#0
 380 001c FB75     	 strb r3,[r7,#23]
 135:../CANopen/driver/CO_driver_target.c **** 
 136:../CANopen/driver/CO_driver_target.c ****     if((CANmodule!=NULL) && (object!=NULL) && (CANrx_callback!=NULL) && (index < CANmodule->rxSize)
 381              	 .loc 1 136 0
 382 001e FB68     	 ldr r3,[r7,#12]
 383 0020 002B     	 cmp r3,#0
 384 0022 35D0     	 beq .L13
 385              	 .loc 1 136 0 is_stmt 0 discriminator 1
 386 0024 7B6A     	 ldr r3,[r7,#36]
 387 0026 002B     	 cmp r3,#0
 388 0028 32D0     	 beq .L13
 389              	 .loc 1 136 0 discriminator 2
 390 002a BB6A     	 ldr r3,[r7,#40]
 391 002c 002B     	 cmp r3,#0
 392 002e 2FD0     	 beq .L13
 393              	 .loc 1 136 0 discriminator 3
 394 0030 FB68     	 ldr r3,[r7,#12]
 395 0032 1B89     	 ldrh r3,[r3,#8]
 396 0034 7A89     	 ldrh r2,[r7,#10]
 397 0036 9A42     	 cmp r2,r3
 398 0038 2AD2     	 bcs .L13
 399              	.LBB2:
 137:../CANopen/driver/CO_driver_target.c ****         /* buffer, which will be configured */
 138:../CANopen/driver/CO_driver_target.c ****         CO_CANrx_t *buffer = &CANmodule->rxArray[index];
 400              	 .loc 1 138 0 is_stmt 1
 401 003a FB68     	 ldr r3,[r7,#12]
 402 003c 5968     	 ldr r1,[r3,#4]
 403 003e 7A89     	 ldrh r2,[r7,#10]
 404 0040 1346     	 mov r3,r2
 405 0042 5B00     	 lsls r3,r3,#1
 406 0044 1344     	 add r3,r3,r2
 407 0046 9B00     	 lsls r3,r3,#2
 408 0048 0B44     	 add r3,r3,r1
 409 004a 3B61     	 str r3,[r7,#16]
 139:../CANopen/driver/CO_driver_target.c **** 
 140:../CANopen/driver/CO_driver_target.c ****         /* Configure object variables */
 141:../CANopen/driver/CO_driver_target.c ****         buffer->object = object;
 410              	 .loc 1 141 0
 411 004c 3B69     	 ldr r3,[r7,#16]
 412 004e 7A6A     	 ldr r2,[r7,#36]
 413 0050 5A60     	 str r2,[r3,#4]
 142:../CANopen/driver/CO_driver_target.c ****         buffer->CANrx_callback = CANrx_callback;
 414              	 .loc 1 142 0
 415 0052 3B69     	 ldr r3,[r7,#16]
 416 0054 BA6A     	 ldr r2,[r7,#40]
 417 0056 9A60     	 str r2,[r3,#8]
 143:../CANopen/driver/CO_driver_target.c **** 
 144:../CANopen/driver/CO_driver_target.c ****         /* CAN identifier and CAN mask, bit aligned with CAN module. Different on different microco
 145:../CANopen/driver/CO_driver_target.c ****         buffer->ident = ident & 0x07FFU;
 418              	 .loc 1 145 0
 419 0058 3B89     	 ldrh r3,[r7,#8]
 420 005a C3F30A03 	 ubfx r3,r3,#0,#11
 421 005e 9AB2     	 uxth r2,r3
 422 0060 3B69     	 ldr r3,[r7,#16]
 423 0062 1A80     	 strh r2,[r3]
 146:../CANopen/driver/CO_driver_target.c ****         if(rtr){
 424              	 .loc 1 146 0
 425 0064 3B6A     	 ldr r3,[r7,#32]
 426 0066 002B     	 cmp r3,#0
 427 0068 06D0     	 beq .L14
 147:../CANopen/driver/CO_driver_target.c ****             buffer->ident |= 0x0800U;
 428              	 .loc 1 147 0
 429 006a 3B69     	 ldr r3,[r7,#16]
 430 006c 1B88     	 ldrh r3,[r3]
 431 006e 43F40063 	 orr r3,r3,#2048
 432 0072 9AB2     	 uxth r2,r3
 433 0074 3B69     	 ldr r3,[r7,#16]
 434 0076 1A80     	 strh r2,[r3]
 435              	.L14:
 148:../CANopen/driver/CO_driver_target.c ****         }
 149:../CANopen/driver/CO_driver_target.c ****         buffer->mask = (mask & 0x07FFU) | 0x0800U;
 436              	 .loc 1 149 0
 437 0078 FB88     	 ldrh r3,[r7,#6]
 438 007a C3F30A03 	 ubfx r3,r3,#0,#11
 439 007e 9BB2     	 uxth r3,r3
 440 0080 43F40063 	 orr r3,r3,#2048
 441 0084 9AB2     	 uxth r2,r3
 442 0086 3B69     	 ldr r3,[r7,#16]
 443 0088 5A80     	 strh r2,[r3,#2]
 150:../CANopen/driver/CO_driver_target.c **** 
 151:../CANopen/driver/CO_driver_target.c ****         /* Set CAN hardware module filter and mask. */
 152:../CANopen/driver/CO_driver_target.c ****         if(CANmodule->useCANrxFilters){
 444              	 .loc 1 152 0
 445 008a FB68     	 ldr r3,[r7,#12]
 446 008c 9B69     	 ldr r3,[r3,#24]
 447              	.LBE2:
 136:../CANopen/driver/CO_driver_target.c ****         /* buffer, which will be configured */
 448              	 .loc 1 136 0
 449 008e 01E0     	 b .L15
 450              	.L13:
 153:../CANopen/driver/CO_driver_target.c **** 
 154:../CANopen/driver/CO_driver_target.c ****         }
 155:../CANopen/driver/CO_driver_target.c ****     }
 156:../CANopen/driver/CO_driver_target.c ****     else{
 157:../CANopen/driver/CO_driver_target.c ****         ret = CO_ERROR_ILLEGAL_ARGUMENT;
 451              	 .loc 1 157 0
 452 0090 FF23     	 movs r3,#255
 453 0092 FB75     	 strb r3,[r7,#23]
 454              	.L15:
 158:../CANopen/driver/CO_driver_target.c ****     }
 159:../CANopen/driver/CO_driver_target.c **** 
 160:../CANopen/driver/CO_driver_target.c ****     return ret;
 455              	 .loc 1 160 0
 456 0094 FB7D     	 ldrb r3,[r7,#23]
 457 0096 5BB2     	 sxtb r3,r3
 161:../CANopen/driver/CO_driver_target.c **** }
 458              	 .loc 1 161 0
 459 0098 1846     	 mov r0,r3
 460 009a 1C37     	 adds r7,r7,#28
 461              	.LCFI27:
 462              	 .cfi_def_cfa_offset 4
 463 009c BD46     	 mov sp,r7
 464              	.LCFI28:
 465              	 .cfi_def_cfa_register 13
 466              	 
 467 009e 5DF8047B 	 ldr r7,[sp],#4
 468              	.LCFI29:
 469              	 .cfi_restore 7
 470              	 .cfi_def_cfa_offset 0
 471 00a2 7047     	 bx lr
 472              	 .cfi_endproc
 473              	.LFE10:
 475              	 .section .text.CO_CANtxBufferInit,"ax",%progbits
 476              	 .align 2
 477              	 .global CO_CANtxBufferInit
 478              	 .thumb
 479              	 .thumb_func
 481              	CO_CANtxBufferInit:
 482              	.LFB11:
 162:../CANopen/driver/CO_driver_target.c **** 
 163:../CANopen/driver/CO_driver_target.c **** 
 164:../CANopen/driver/CO_driver_target.c **** /******************************************************************************/
 165:../CANopen/driver/CO_driver_target.c **** CO_CANtx_t *CO_CANtxBufferInit(
 166:../CANopen/driver/CO_driver_target.c ****         CO_CANmodule_t         *CANmodule,
 167:../CANopen/driver/CO_driver_target.c ****         uint16_t                index,
 168:../CANopen/driver/CO_driver_target.c ****         uint16_t                ident,
 169:../CANopen/driver/CO_driver_target.c ****         bool_t                  rtr,
 170:../CANopen/driver/CO_driver_target.c ****         uint8_t                 noOfBytes,
 171:../CANopen/driver/CO_driver_target.c ****         bool_t                  syncFlag)
 172:../CANopen/driver/CO_driver_target.c **** {
 483              	 .loc 1 172 0
 484              	 .cfi_startproc
 485              	 
 486              	 
 487              	 
 488 0000 80B4     	 push {r7}
 489              	.LCFI30:
 490              	 .cfi_def_cfa_offset 4
 491              	 .cfi_offset 7,-4
 492 0002 87B0     	 sub sp,sp,#28
 493              	.LCFI31:
 494              	 .cfi_def_cfa_offset 32
 495 0004 00AF     	 add r7,sp,#0
 496              	.LCFI32:
 497              	 .cfi_def_cfa_register 7
 498 0006 F860     	 str r0,[r7,#12]
 499 0008 7B60     	 str r3,[r7,#4]
 500 000a 0B46     	 mov r3,r1
 501 000c 7B81     	 strh r3,[r7,#10]
 502 000e 1346     	 mov r3,r2
 503 0010 3B81     	 strh r3,[r7,#8]
 173:../CANopen/driver/CO_driver_target.c ****     CO_CANtx_t *buffer = NULL;
 504              	 .loc 1 173 0
 505 0012 0023     	 movs r3,#0
 506 0014 7B61     	 str r3,[r7,#20]
 174:../CANopen/driver/CO_driver_target.c **** 
 175:../CANopen/driver/CO_driver_target.c ****     if((CANmodule != NULL) && (index < CANmodule->txSize)){
 507              	 .loc 1 175 0
 508 0016 FB68     	 ldr r3,[r7,#12]
 509 0018 002B     	 cmp r3,#0
 510 001a 1FD0     	 beq .L18
 511              	 .loc 1 175 0 is_stmt 0 discriminator 1
 512 001c FB68     	 ldr r3,[r7,#12]
 513 001e 1B8A     	 ldrh r3,[r3,#16]
 514 0020 7A89     	 ldrh r2,[r7,#10]
 515 0022 9A42     	 cmp r2,r3
 516 0024 1AD2     	 bcs .L18
 176:../CANopen/driver/CO_driver_target.c ****         /* get specific buffer */
 177:../CANopen/driver/CO_driver_target.c ****         buffer = &CANmodule->txArray[index];
 517              	 .loc 1 177 0 is_stmt 1
 518 0026 FB68     	 ldr r3,[r7,#12]
 519 0028 D968     	 ldr r1,[r3,#12]
 520 002a 7A89     	 ldrh r2,[r7,#10]
 521 002c 1346     	 mov r3,r2
 522 002e 5B00     	 lsls r3,r3,#1
 523 0030 1344     	 add r3,r3,r2
 524 0032 DB00     	 lsls r3,r3,#3
 525 0034 0B44     	 add r3,r3,r1
 526 0036 7B61     	 str r3,[r7,#20]
 178:../CANopen/driver/CO_driver_target.c **** 
 179:../CANopen/driver/CO_driver_target.c ****         /* CAN identifier, DLC and rtr, bit aligned with CAN module transmit buffer.
 180:../CANopen/driver/CO_driver_target.c ****          * Microcontroller specific. */
 181:../CANopen/driver/CO_driver_target.c ****         /*
 182:../CANopen/driver/CO_driver_target.c ****         buffer->ident = ((uint32_t)ident & 0x07FFU)
 183:../CANopen/driver/CO_driver_target.c ****                       | ((uint32_t)(((uint32_t)noOfBytes & 0xFU) << 12U))
 184:../CANopen/driver/CO_driver_target.c ****                       | ((uint32_t)(rtr ? 0x8000U : 0U));
 185:../CANopen/driver/CO_driver_target.c ****         */
 186:../CANopen/driver/CO_driver_target.c ****         buffer->ident = ident & 0x07FFU;
 527              	 .loc 1 186 0
 528 0038 3B89     	 ldrh r3,[r7,#8]
 529 003a C3F30A02 	 ubfx r2,r3,#0,#11
 530 003e 7B69     	 ldr r3,[r7,#20]
 531 0040 1A60     	 str r2,[r3]
 187:../CANopen/driver/CO_driver_target.c ****         buffer->DLC = noOfBytes & 0xFU;
 532              	 .loc 1 187 0
 533 0042 97F82030 	 ldrb r3,[r7,#32]
 534 0046 03F00F03 	 and r3,r3,#15
 535 004a DAB2     	 uxtb r2,r3
 536 004c 7B69     	 ldr r3,[r7,#20]
 537 004e 1A71     	 strb r2,[r3,#4]
 188:../CANopen/driver/CO_driver_target.c **** 
 189:../CANopen/driver/CO_driver_target.c ****         buffer->bufferFull = false;
 538              	 .loc 1 189 0
 539 0050 7B69     	 ldr r3,[r7,#20]
 540 0052 0022     	 movs r2,#0
 541 0054 1A61     	 str r2,[r3,#16]
 190:../CANopen/driver/CO_driver_target.c ****         buffer->syncFlag = syncFlag;
 542              	 .loc 1 190 0
 543 0056 7B69     	 ldr r3,[r7,#20]
 544 0058 7A6A     	 ldr r2,[r7,#36]
 545 005a 5A61     	 str r2,[r3,#20]
 546              	.L18:
 191:../CANopen/driver/CO_driver_target.c ****     }
 192:../CANopen/driver/CO_driver_target.c **** 
 193:../CANopen/driver/CO_driver_target.c ****     return buffer;
 547              	 .loc 1 193 0
 548 005c 7B69     	 ldr r3,[r7,#20]
 194:../CANopen/driver/CO_driver_target.c **** }
 549              	 .loc 1 194 0
 550 005e 1846     	 mov r0,r3
 551 0060 1C37     	 adds r7,r7,#28
 552              	.LCFI33:
 553              	 .cfi_def_cfa_offset 4
 554 0062 BD46     	 mov sp,r7
 555              	.LCFI34:
 556              	 .cfi_def_cfa_register 13
 557              	 
 558 0064 5DF8047B 	 ldr r7,[sp],#4
 559              	.LCFI35:
 560              	 .cfi_restore 7
 561              	 .cfi_def_cfa_offset 0
 562 0068 7047     	 bx lr
 563              	 .cfi_endproc
 564              	.LFE11:
 566 006a 00BF     	 .section .text.CO_CANsend,"ax",%progbits
 567              	 .align 2
 568              	 .global CO_CANsend
 569              	 .thumb
 570              	 .thumb_func
 572              	CO_CANsend:
 573              	.LFB12:
 195:../CANopen/driver/CO_driver_target.c **** 
 196:../CANopen/driver/CO_driver_target.c **** 
 197:../CANopen/driver/CO_driver_target.c **** /******************************************************************************/
 198:../CANopen/driver/CO_driver_target.c **** CO_ReturnError_t CO_CANsend(CO_CANmodule_t *CANmodule, CO_CANtx_t *buffer){
 574              	 .loc 1 198 0
 575              	 .cfi_startproc
 576              	 
 577              	 
 578 0000 80B5     	 push {r7,lr}
 579              	.LCFI36:
 580              	 .cfi_def_cfa_offset 8
 581              	 .cfi_offset 7,-8
 582              	 .cfi_offset 14,-4
 583 0002 84B0     	 sub sp,sp,#16
 584              	.LCFI37:
 585              	 .cfi_def_cfa_offset 24
 586 0004 00AF     	 add r7,sp,#0
 587              	.LCFI38:
 588              	 .cfi_def_cfa_register 7
 589 0006 7860     	 str r0,[r7,#4]
 590 0008 3960     	 str r1,[r7]
 199:../CANopen/driver/CO_driver_target.c ****     CO_ReturnError_t err = CO_ERROR_NO;
 591              	 .loc 1 199 0
 592 000a 0023     	 movs r3,#0
 593 000c FB73     	 strb r3,[r7,#15]
 200:../CANopen/driver/CO_driver_target.c ****     CANopenNodeStatusTypeDef_t ret;
 201:../CANopen/driver/CO_driver_target.c **** 
 202:../CANopen/driver/CO_driver_target.c ****     /* Verify overflow */
 203:../CANopen/driver/CO_driver_target.c ****     if(buffer->bufferFull){
 594              	 .loc 1 203 0
 595 000e 3B68     	 ldr r3,[r7]
 596 0010 1B69     	 ldr r3,[r3,#16]
 597 0012 002B     	 cmp r3,#0
 598 0014 0CD0     	 beq .L21
 204:../CANopen/driver/CO_driver_target.c ****         if(!CANmodule->firstCANtxMessage){
 599              	 .loc 1 204 0
 600 0016 7B68     	 ldr r3,[r7,#4]
 601 0018 1B6A     	 ldr r3,[r3,#32]
 602 001a 002B     	 cmp r3,#0
 603 001c 06D1     	 bne .L22
 205:../CANopen/driver/CO_driver_target.c ****             /* don't set error, if bootup message is still on buffers */
 206:../CANopen/driver/CO_driver_target.c ****             CANmodule->CANerrorStatus |= CO_CAN_ERRTX_OVERFLOW;
 604              	 .loc 1 206 0
 605 001e 7B68     	 ldr r3,[r7,#4]
 606 0020 5B8A     	 ldrh r3,[r3,#18]
 607 0022 43F00803 	 orr r3,r3,#8
 608 0026 9AB2     	 uxth r2,r3
 609 0028 7B68     	 ldr r3,[r7,#4]
 610 002a 5A82     	 strh r2,[r3,#18]
 611              	.L22:
 207:../CANopen/driver/CO_driver_target.c ****         }
 208:../CANopen/driver/CO_driver_target.c ****         err = CO_ERROR_TX_OVERFLOW;
 612              	 .loc 1 208 0
 613 002c F723     	 movs r3,#247
 614 002e FB73     	 strb r3,[r7,#15]
 615              	.L21:
 209:../CANopen/driver/CO_driver_target.c ****     }
 210:../CANopen/driver/CO_driver_target.c **** 
 211:../CANopen/driver/CO_driver_target.c ****     CO_LOCK_CAN_SEND(CANmodule);
 212:../CANopen/driver/CO_driver_target.c ****     /* if CAN TX buffer is free, copy message to it */
 213:../CANopen/driver/CO_driver_target.c ****     ret = xCANTransmitMessage(buffer);
 616              	 .loc 1 213 0
 617 0030 3868     	 ldr r0,[r7]
 618 0032 FFF7FEFF 	 bl xCANTransmitMessage
 619 0036 0346     	 mov r3,r0
 620 0038 BB73     	 strb r3,[r7,#14]
 214:../CANopen/driver/CO_driver_target.c **** 
 215:../CANopen/driver/CO_driver_target.c ****     if(ret == CAN_OPEN_NODE_OK && CANmodule->CANtxCount == 0){
 621              	 .loc 1 215 0
 622 003a BB7B     	 ldrb r3,[r7,#14]
 623 003c 002B     	 cmp r3,#0
 624 003e 09D1     	 bne .L23
 625              	 .loc 1 215 0 is_stmt 0 discriminator 1
 626 0040 7B68     	 ldr r3,[r7,#4]
 627 0042 9B8C     	 ldrh r3,[r3,#36]
 628 0044 9BB2     	 uxth r3,r3
 629 0046 002B     	 cmp r3,#0
 630 0048 04D1     	 bne .L23
 216:../CANopen/driver/CO_driver_target.c ****         CANmodule->bufferInhibitFlag = buffer->syncFlag;
 631              	 .loc 1 216 0 is_stmt 1
 632 004a 3B68     	 ldr r3,[r7]
 633 004c 5A69     	 ldr r2,[r3,#20]
 634 004e 7B68     	 ldr r3,[r7,#4]
 635 0050 DA61     	 str r2,[r3,#28]
 636 0052 09E0     	 b .L24
 637              	.L23:
 217:../CANopen/driver/CO_driver_target.c ****         /* copy message and txRequest */
 218:../CANopen/driver/CO_driver_target.c ****     }
 219:../CANopen/driver/CO_driver_target.c ****     /* if no buffer is free, message will be sent by interrupt */
 220:../CANopen/driver/CO_driver_target.c ****     else{
 221:../CANopen/driver/CO_driver_target.c ****         buffer->bufferFull = true;
 638              	 .loc 1 221 0
 639 0054 3B68     	 ldr r3,[r7]
 640 0056 0122     	 movs r2,#1
 641 0058 1A61     	 str r2,[r3,#16]
 222:../CANopen/driver/CO_driver_target.c ****         CANmodule->CANtxCount++;
 642              	 .loc 1 222 0
 643 005a 7B68     	 ldr r3,[r7,#4]
 644 005c 9B8C     	 ldrh r3,[r3,#36]
 645 005e 9BB2     	 uxth r3,r3
 646 0060 0133     	 adds r3,r3,#1
 647 0062 9AB2     	 uxth r2,r3
 648 0064 7B68     	 ldr r3,[r7,#4]
 649 0066 9A84     	 strh r2,[r3,#36]
 650              	.L24:
 223:../CANopen/driver/CO_driver_target.c ****     }
 224:../CANopen/driver/CO_driver_target.c ****     CO_UNLOCK_CAN_SEND(CANmodule);
 225:../CANopen/driver/CO_driver_target.c **** 
 226:../CANopen/driver/CO_driver_target.c ****     return err;
 651              	 .loc 1 226 0
 652 0068 FB7B     	 ldrb r3,[r7,#15]
 653 006a 5BB2     	 sxtb r3,r3
 227:../CANopen/driver/CO_driver_target.c **** }
 654              	 .loc 1 227 0
 655 006c 1846     	 mov r0,r3
 656 006e 1037     	 adds r7,r7,#16
 657              	.LCFI39:
 658              	 .cfi_def_cfa_offset 8
 659 0070 BD46     	 mov sp,r7
 660              	.LCFI40:
 661              	 .cfi_def_cfa_register 13
 662              	 
 663 0072 80BD     	 pop {r7,pc}
 664              	 .cfi_endproc
 665              	.LFE12:
 667              	 .section .text.CO_CANclearPendingSyncPDOs,"ax",%progbits
 668              	 .align 2
 669              	 .global CO_CANclearPendingSyncPDOs
 670              	 .thumb
 671              	 .thumb_func
 673              	CO_CANclearPendingSyncPDOs:
 674              	.LFB13:
 228:../CANopen/driver/CO_driver_target.c **** 
 229:../CANopen/driver/CO_driver_target.c **** 
 230:../CANopen/driver/CO_driver_target.c **** /******************************************************************************/
 231:../CANopen/driver/CO_driver_target.c **** void CO_CANclearPendingSyncPDOs(CO_CANmodule_t *CANmodule){
 675              	 .loc 1 231 0
 676              	 .cfi_startproc
 677              	 
 678              	 
 679              	 
 680 0000 80B4     	 push {r7}
 681              	.LCFI41:
 682              	 .cfi_def_cfa_offset 4
 683              	 .cfi_offset 7,-4
 684 0002 87B0     	 sub sp,sp,#28
 685              	.LCFI42:
 686              	 .cfi_def_cfa_offset 32
 687 0004 00AF     	 add r7,sp,#0
 688              	.LCFI43:
 689              	 .cfi_def_cfa_register 7
 690 0006 7860     	 str r0,[r7,#4]
 232:../CANopen/driver/CO_driver_target.c ****     uint32_t tpdoDeleted = 0U;
 691              	 .loc 1 232 0
 692 0008 0023     	 movs r3,#0
 693 000a 7B61     	 str r3,[r7,#20]
 233:../CANopen/driver/CO_driver_target.c **** 
 234:../CANopen/driver/CO_driver_target.c ****     CO_LOCK_CAN_SEND(CANmodule);
 235:../CANopen/driver/CO_driver_target.c ****     /* Abort message from CAN module, if there is synchronous TPDO.
 236:../CANopen/driver/CO_driver_target.c ****      * Take special care with this functionality. */
 237:../CANopen/driver/CO_driver_target.c ****     if(/*messageIsOnCanBuffer && */CANmodule->bufferInhibitFlag){
 694              	 .loc 1 237 0
 695 000c 7B68     	 ldr r3,[r7,#4]
 696 000e DB69     	 ldr r3,[r3,#28]
 697 0010 002B     	 cmp r3,#0
 698 0012 04D0     	 beq .L27
 238:../CANopen/driver/CO_driver_target.c ****         /* clear TXREQ */
 239:../CANopen/driver/CO_driver_target.c ****         CANmodule->bufferInhibitFlag = false;
 699              	 .loc 1 239 0
 700 0014 7B68     	 ldr r3,[r7,#4]
 701 0016 0022     	 movs r2,#0
 702 0018 DA61     	 str r2,[r3,#28]
 240:../CANopen/driver/CO_driver_target.c ****         tpdoDeleted = 1U;
 703              	 .loc 1 240 0
 704 001a 0123     	 movs r3,#1
 705 001c 7B61     	 str r3,[r7,#20]
 706              	.L27:
 241:../CANopen/driver/CO_driver_target.c ****     }
 242:../CANopen/driver/CO_driver_target.c ****     /* delete also pending synchronous TPDOs in TX buffers */
 243:../CANopen/driver/CO_driver_target.c ****     if(CANmodule->CANtxCount != 0U){
 707              	 .loc 1 243 0
 708 001e 7B68     	 ldr r3,[r7,#4]
 709 0020 9B8C     	 ldrh r3,[r3,#36]
 710 0022 9BB2     	 uxth r3,r3
 711 0024 002B     	 cmp r3,#0
 712 0026 23D0     	 beq .L28
 713              	.LBB3:
 244:../CANopen/driver/CO_driver_target.c ****         uint16_t i;
 245:../CANopen/driver/CO_driver_target.c ****         CO_CANtx_t *buffer = &CANmodule->txArray[0];
 714              	 .loc 1 245 0
 715 0028 7B68     	 ldr r3,[r7,#4]
 716 002a DB68     	 ldr r3,[r3,#12]
 717 002c FB60     	 str r3,[r7,#12]
 246:../CANopen/driver/CO_driver_target.c ****         for(i = CANmodule->txSize; i > 0U; i--){
 718              	 .loc 1 246 0
 719 002e 7B68     	 ldr r3,[r7,#4]
 720 0030 1B8A     	 ldrh r3,[r3,#16]
 721 0032 7B82     	 strh r3,[r7,#18]
 722 0034 19E0     	 b .L29
 723              	.L31:
 247:../CANopen/driver/CO_driver_target.c ****             if(buffer->bufferFull){
 724              	 .loc 1 247 0
 725 0036 FB68     	 ldr r3,[r7,#12]
 726 0038 1B69     	 ldr r3,[r3,#16]
 727 003a 002B     	 cmp r3,#0
 728 003c 0FD0     	 beq .L30
 248:../CANopen/driver/CO_driver_target.c ****                 if(buffer->syncFlag){
 729              	 .loc 1 248 0
 730 003e FB68     	 ldr r3,[r7,#12]
 731 0040 5B69     	 ldr r3,[r3,#20]
 732 0042 002B     	 cmp r3,#0
 733 0044 0BD0     	 beq .L30
 249:../CANopen/driver/CO_driver_target.c ****                     buffer->bufferFull = false;
 734              	 .loc 1 249 0
 735 0046 FB68     	 ldr r3,[r7,#12]
 736 0048 0022     	 movs r2,#0
 737 004a 1A61     	 str r2,[r3,#16]
 250:../CANopen/driver/CO_driver_target.c ****                     CANmodule->CANtxCount--;
 738              	 .loc 1 250 0
 739 004c 7B68     	 ldr r3,[r7,#4]
 740 004e 9B8C     	 ldrh r3,[r3,#36]
 741 0050 9BB2     	 uxth r3,r3
 742 0052 013B     	 subs r3,r3,#1
 743 0054 9AB2     	 uxth r2,r3
 744 0056 7B68     	 ldr r3,[r7,#4]
 745 0058 9A84     	 strh r2,[r3,#36]
 251:../CANopen/driver/CO_driver_target.c ****                     tpdoDeleted = 2U;
 746              	 .loc 1 251 0
 747 005a 0223     	 movs r3,#2
 748 005c 7B61     	 str r3,[r7,#20]
 749              	.L30:
 252:../CANopen/driver/CO_driver_target.c ****                 }
 253:../CANopen/driver/CO_driver_target.c ****             }
 254:../CANopen/driver/CO_driver_target.c ****             buffer++;
 750              	 .loc 1 254 0 discriminator 2
 751 005e FB68     	 ldr r3,[r7,#12]
 752 0060 1833     	 adds r3,r3,#24
 753 0062 FB60     	 str r3,[r7,#12]
 246:../CANopen/driver/CO_driver_target.c ****             if(buffer->bufferFull){
 754              	 .loc 1 246 0 discriminator 2
 755 0064 7B8A     	 ldrh r3,[r7,#18]
 756 0066 013B     	 subs r3,r3,#1
 757 0068 7B82     	 strh r3,[r7,#18]
 758              	.L29:
 246:../CANopen/driver/CO_driver_target.c ****             if(buffer->bufferFull){
 759              	 .loc 1 246 0 is_stmt 0 discriminator 1
 760 006a 7B8A     	 ldrh r3,[r7,#18]
 761 006c 002B     	 cmp r3,#0
 762 006e E2D1     	 bne .L31
 763              	.L28:
 764              	.LBE3:
 255:../CANopen/driver/CO_driver_target.c ****         }
 256:../CANopen/driver/CO_driver_target.c ****     }
 257:../CANopen/driver/CO_driver_target.c ****     CO_UNLOCK_CAN_SEND(CANmodule);
 258:../CANopen/driver/CO_driver_target.c **** 
 259:../CANopen/driver/CO_driver_target.c **** 
 260:../CANopen/driver/CO_driver_target.c ****     if(tpdoDeleted != 0U){
 765              	 .loc 1 260 0 is_stmt 1
 766 0070 7B69     	 ldr r3,[r7,#20]
 767 0072 002B     	 cmp r3,#0
 768 0074 06D0     	 beq .L26
 261:../CANopen/driver/CO_driver_target.c ****         CANmodule->CANerrorStatus |= CO_CAN_ERRTX_PDO_LATE;
 769              	 .loc 1 261 0
 770 0076 7B68     	 ldr r3,[r7,#4]
 771 0078 5B8A     	 ldrh r3,[r3,#18]
 772 007a 43F08003 	 orr r3,r3,#128
 773 007e 9AB2     	 uxth r2,r3
 774 0080 7B68     	 ldr r3,[r7,#4]
 775 0082 5A82     	 strh r2,[r3,#18]
 776              	.L26:
 262:../CANopen/driver/CO_driver_target.c ****     }
 263:../CANopen/driver/CO_driver_target.c **** }
 777              	 .loc 1 263 0
 778 0084 1C37     	 adds r7,r7,#28
 779              	.LCFI44:
 780              	 .cfi_def_cfa_offset 4
 781 0086 BD46     	 mov sp,r7
 782              	.LCFI45:
 783              	 .cfi_def_cfa_register 13
 784              	 
 785 0088 5DF8047B 	 ldr r7,[sp],#4
 786              	.LCFI46:
 787              	 .cfi_restore 7
 788              	 .cfi_def_cfa_offset 0
 789 008c 7047     	 bx lr
 790              	 .cfi_endproc
 791              	.LFE13:
 793 008e 00BF     	 .section .bss.rxErrors,"aw",%nobits
 794              	 .align 1
 797              	rxErrors:
 798 0000 0000     	 .space 2
 799              	 .section .bss.txErrors,"aw",%nobits
 800              	 .align 1
 803              	txErrors:
 804 0000 0000     	 .space 2
 805              	 .section .bss.overflow,"aw",%nobits
 806              	 .align 1
 809              	overflow:
 810 0000 0000     	 .space 2
 811              	 .section .text.CO_CANmodule_process,"ax",%progbits
 812              	 .align 2
 813              	 .global CO_CANmodule_process
 814              	 .thumb
 815              	 .thumb_func
 817              	CO_CANmodule_process:
 818              	.LFB14:
 264:../CANopen/driver/CO_driver_target.c **** 
 265:../CANopen/driver/CO_driver_target.c **** 
 266:../CANopen/driver/CO_driver_target.c **** /******************************************************************************/
 267:../CANopen/driver/CO_driver_target.c **** /* Get error counters from the module. If necessary, function may use
 268:../CANopen/driver/CO_driver_target.c ****     * different way to determine errors. */
 269:../CANopen/driver/CO_driver_target.c **** static uint16_t rxErrors=0, txErrors=0, overflow=0;
 270:../CANopen/driver/CO_driver_target.c **** 
 271:../CANopen/driver/CO_driver_target.c **** void CO_CANmodule_process(CO_CANmodule_t *CANmodule) {
 819              	 .loc 1 271 0
 820              	 .cfi_startproc
 821              	 
 822              	 
 823              	 
 824 0000 80B4     	 push {r7}
 825              	.LCFI47:
 826              	 .cfi_def_cfa_offset 4
 827              	 .cfi_offset 7,-4
 828 0002 85B0     	 sub sp,sp,#20
 829              	.LCFI48:
 830              	 .cfi_def_cfa_offset 24
 831 0004 00AF     	 add r7,sp,#0
 832              	.LCFI49:
 833              	 .cfi_def_cfa_register 7
 834 0006 7860     	 str r0,[r7,#4]
 272:../CANopen/driver/CO_driver_target.c ****     uint32_t err;
 273:../CANopen/driver/CO_driver_target.c **** 
 274:../CANopen/driver/CO_driver_target.c ****     err = ((uint32_t)txErrors << 16) | ((uint32_t)rxErrors << 8) | overflow;
 835              	 .loc 1 274 0
 836 0008 2F4B     	 ldr r3,.L42
 837 000a 1B88     	 ldrh r3,[r3]
 838 000c 1A04     	 lsls r2,r3,#16
 839 000e 2F4B     	 ldr r3,.L42+4
 840 0010 1B88     	 ldrh r3,[r3]
 841 0012 1B02     	 lsls r3,r3,#8
 842 0014 1343     	 orrs r3,r3,r2
 843 0016 2E4A     	 ldr r2,.L42+8
 844 0018 1288     	 ldrh r2,[r2]
 845 001a 1343     	 orrs r3,r3,r2
 846 001c BB60     	 str r3,[r7,#8]
 275:../CANopen/driver/CO_driver_target.c **** 
 276:../CANopen/driver/CO_driver_target.c ****     if (CANmodule->errOld != err) {
 847              	 .loc 1 276 0
 848 001e 7B68     	 ldr r3,[r7,#4]
 849 0020 9A6A     	 ldr r2,[r3,#40]
 850 0022 BB68     	 ldr r3,[r7,#8]
 851 0024 9A42     	 cmp r2,r3
 852 0026 4AD0     	 beq .L33
 853              	.LBB4:
 277:../CANopen/driver/CO_driver_target.c ****         uint16_t status = CANmodule->CANerrorStatus;
 854              	 .loc 1 277 0
 855 0028 7B68     	 ldr r3,[r7,#4]
 856 002a 5B8A     	 ldrh r3,[r3,#18]
 857 002c FB81     	 strh r3,[r7,#14]
 278:../CANopen/driver/CO_driver_target.c **** 
 279:../CANopen/driver/CO_driver_target.c ****         CANmodule->errOld = err;
 858              	 .loc 1 279 0
 859 002e 7B68     	 ldr r3,[r7,#4]
 860 0030 BA68     	 ldr r2,[r7,#8]
 861 0032 9A62     	 str r2,[r3,#40]
 280:../CANopen/driver/CO_driver_target.c **** 
 281:../CANopen/driver/CO_driver_target.c ****         if (txErrors >= 256U) {
 862              	 .loc 1 281 0
 863 0034 244B     	 ldr r3,.L42
 864 0036 1B88     	 ldrh r3,[r3]
 865 0038 FF2B     	 cmp r3,#255
 866 003a 04D9     	 bls .L35
 282:../CANopen/driver/CO_driver_target.c ****             /* bus off */
 283:../CANopen/driver/CO_driver_target.c ****             status |= CO_CAN_ERRTX_BUS_OFF;
 867              	 .loc 1 283 0
 868 003c FB89     	 ldrh r3,[r7,#14]
 869 003e 43F00403 	 orr r3,r3,#4
 870 0042 FB81     	 strh r3,[r7,#14]
 871 0044 30E0     	 b .L36
 872              	.L35:
 284:../CANopen/driver/CO_driver_target.c ****         }
 285:../CANopen/driver/CO_driver_target.c ****         else {
 286:../CANopen/driver/CO_driver_target.c ****             /* recalculate CANerrorStatus, first clear some flags */
 287:../CANopen/driver/CO_driver_target.c ****             status &= 0xFFFF ^ (CO_CAN_ERRTX_BUS_OFF |
 873              	 .loc 1 287 0
 874 0046 FB89     	 ldrh r3,[r7,#14]
 875 0048 23F44173 	 bic r3,r3,#772
 876 004c 23F00303 	 bic r3,r3,#3
 877 0050 FB81     	 strh r3,[r7,#14]
 288:../CANopen/driver/CO_driver_target.c ****                                 CO_CAN_ERRRX_WARNING | CO_CAN_ERRRX_PASSIVE |
 289:../CANopen/driver/CO_driver_target.c ****                                 CO_CAN_ERRTX_WARNING | CO_CAN_ERRTX_PASSIVE);
 290:../CANopen/driver/CO_driver_target.c **** 
 291:../CANopen/driver/CO_driver_target.c ****             /* rx bus warning or passive */
 292:../CANopen/driver/CO_driver_target.c ****             if (rxErrors >= 128) {
 878              	 .loc 1 292 0
 879 0052 1E4B     	 ldr r3,.L42+4
 880 0054 1B88     	 ldrh r3,[r3]
 881 0056 7F2B     	 cmp r3,#127
 882 0058 04D9     	 bls .L37
 293:../CANopen/driver/CO_driver_target.c ****                 status |= CO_CAN_ERRRX_WARNING | CO_CAN_ERRRX_PASSIVE;
 883              	 .loc 1 293 0
 884 005a FB89     	 ldrh r3,[r7,#14]
 885 005c 43F44073 	 orr r3,r3,#768
 886 0060 FB81     	 strh r3,[r7,#14]
 887 0062 07E0     	 b .L38
 888              	.L37:
 294:../CANopen/driver/CO_driver_target.c ****             } else if (rxErrors >= 96) {
 889              	 .loc 1 294 0
 890 0064 194B     	 ldr r3,.L42+4
 891 0066 1B88     	 ldrh r3,[r3]
 892 0068 5F2B     	 cmp r3,#95
 893 006a 03D9     	 bls .L38
 295:../CANopen/driver/CO_driver_target.c ****                 status |= CO_CAN_ERRRX_WARNING;
 894              	 .loc 1 295 0
 895 006c FB89     	 ldrh r3,[r7,#14]
 896 006e 43F48073 	 orr r3,r3,#256
 897 0072 FB81     	 strh r3,[r7,#14]
 898              	.L38:
 296:../CANopen/driver/CO_driver_target.c ****             }
 297:../CANopen/driver/CO_driver_target.c **** 
 298:../CANopen/driver/CO_driver_target.c ****             /* tx bus warning or passive */
 299:../CANopen/driver/CO_driver_target.c ****             if (txErrors >= 128) {
 899              	 .loc 1 299 0
 900 0074 144B     	 ldr r3,.L42
 901 0076 1B88     	 ldrh r3,[r3]
 902 0078 7F2B     	 cmp r3,#127
 903 007a 04D9     	 bls .L39
 300:../CANopen/driver/CO_driver_target.c ****                 status |= CO_CAN_ERRTX_WARNING | CO_CAN_ERRTX_PASSIVE;
 904              	 .loc 1 300 0
 905 007c FB89     	 ldrh r3,[r7,#14]
 906 007e 43F00303 	 orr r3,r3,#3
 907 0082 FB81     	 strh r3,[r7,#14]
 908 0084 07E0     	 b .L40
 909              	.L39:
 301:../CANopen/driver/CO_driver_target.c ****             } else if (rxErrors >= 96) {
 910              	 .loc 1 301 0
 911 0086 114B     	 ldr r3,.L42+4
 912 0088 1B88     	 ldrh r3,[r3]
 913 008a 5F2B     	 cmp r3,#95
 914 008c 03D9     	 bls .L40
 302:../CANopen/driver/CO_driver_target.c ****                 status |= CO_CAN_ERRTX_WARNING;
 915              	 .loc 1 302 0
 916 008e FB89     	 ldrh r3,[r7,#14]
 917 0090 43F00103 	 orr r3,r3,#1
 918 0094 FB81     	 strh r3,[r7,#14]
 919              	.L40:
 303:../CANopen/driver/CO_driver_target.c ****             }
 304:../CANopen/driver/CO_driver_target.c **** 
 305:../CANopen/driver/CO_driver_target.c ****             /* if not tx passive clear also overflow */
 306:../CANopen/driver/CO_driver_target.c ****             if ((status & CO_CAN_ERRTX_PASSIVE) == 0) {
 920              	 .loc 1 306 0
 921 0096 FB89     	 ldrh r3,[r7,#14]
 922 0098 03F00203 	 and r3,r3,#2
 923 009c 002B     	 cmp r3,#0
 924 009e 03D1     	 bne .L36
 307:../CANopen/driver/CO_driver_target.c ****                 status &= 0xFFFF ^ CO_CAN_ERRTX_OVERFLOW;
 925              	 .loc 1 307 0
 926 00a0 FB89     	 ldrh r3,[r7,#14]
 927 00a2 23F00803 	 bic r3,r3,#8
 928 00a6 FB81     	 strh r3,[r7,#14]
 929              	.L36:
 308:../CANopen/driver/CO_driver_target.c ****             }
 309:../CANopen/driver/CO_driver_target.c ****         }
 310:../CANopen/driver/CO_driver_target.c **** 
 311:../CANopen/driver/CO_driver_target.c ****         if (overflow != 0) {
 930              	 .loc 1 311 0
 931 00a8 094B     	 ldr r3,.L42+8
 932 00aa 1B88     	 ldrh r3,[r3]
 933 00ac 002B     	 cmp r3,#0
 934 00ae 03D0     	 beq .L41
 312:../CANopen/driver/CO_driver_target.c ****             /* CAN RX bus overflow */
 313:../CANopen/driver/CO_driver_target.c ****             status |= CO_CAN_ERRRX_OVERFLOW;
 935              	 .loc 1 313 0
 936 00b0 FB89     	 ldrh r3,[r7,#14]
 937 00b2 43F40063 	 orr r3,r3,#2048
 938 00b6 FB81     	 strh r3,[r7,#14]
 939              	.L41:
 314:../CANopen/driver/CO_driver_target.c ****         }
 315:../CANopen/driver/CO_driver_target.c **** 
 316:../CANopen/driver/CO_driver_target.c ****         CANmodule->CANerrorStatus = status;
 940              	 .loc 1 316 0
 941 00b8 7B68     	 ldr r3,[r7,#4]
 942 00ba FA89     	 ldrh r2,[r7,#14]
 943 00bc 5A82     	 strh r2,[r3,#18]
 944              	.L33:
 945              	.LBE4:
 317:../CANopen/driver/CO_driver_target.c ****     }
 318:../CANopen/driver/CO_driver_target.c **** }
 946              	 .loc 1 318 0
 947 00be 1437     	 adds r7,r7,#20
 948              	.LCFI50:
 949              	 .cfi_def_cfa_offset 4
 950 00c0 BD46     	 mov sp,r7
 951              	.LCFI51:
 952              	 .cfi_def_cfa_register 13
 953              	 
 954 00c2 5DF8047B 	 ldr r7,[sp],#4
 955              	.LCFI52:
 956              	 .cfi_restore 7
 957              	 .cfi_def_cfa_offset 0
 958 00c6 7047     	 bx lr
 959              	.L43:
 960              	 .align 2
 961              	.L42:
 962 00c8 00000000 	 .word txErrors
 963 00cc 00000000 	 .word rxErrors
 964 00d0 00000000 	 .word overflow
 965              	 .cfi_endproc
 966              	.LFE14:
 968              	 .section .text.CO_CANinterrupt,"ax",%progbits
 969              	 .align 2
 970              	 .global CO_CANinterrupt
 971              	 .thumb
 972              	 .thumb_func
 974              	CO_CANinterrupt:
 975              	.LFB15:
 319:../CANopen/driver/CO_driver_target.c **** 
 320:../CANopen/driver/CO_driver_target.c **** 
 321:../CANopen/driver/CO_driver_target.c **** /******************************************************************************/
 322:../CANopen/driver/CO_driver_target.c **** 
 323:../CANopen/driver/CO_driver_target.c **** void CO_CANinterrupt(CO_CANmodule_t *CANmodule){
 976              	 .loc 1 323 0
 977              	 .cfi_startproc
 978              	 
 979              	 
 980 0000 80B5     	 push {r7,lr}
 981              	.LCFI53:
 982              	 .cfi_def_cfa_offset 8
 983              	 .cfi_offset 7,-8
 984              	 .cfi_offset 14,-4
 985 0002 8CB0     	 sub sp,sp,#48
 986              	.LCFI54:
 987              	 .cfi_def_cfa_offset 56
 988 0004 00AF     	 add r7,sp,#0
 989              	.LCFI55:
 990              	 .cfi_def_cfa_register 7
 991 0006 7860     	 str r0,[r7,#4]
 992              	.LBB5:
 324:../CANopen/driver/CO_driver_target.c **** 
 325:../CANopen/driver/CO_driver_target.c ****     /* receive interrupt */
 326:../CANopen/driver/CO_driver_target.c ****     if(1){
 327:../CANopen/driver/CO_driver_target.c ****         CO_CANrxMsg_t *rcvMsg;      /* pointer to received message in CAN module */
 328:../CANopen/driver/CO_driver_target.c ****         uint16_t index;             /* index of received message */
 329:../CANopen/driver/CO_driver_target.c ****         uint32_t rcvMsgIdent;       /* identifier of the received message */
 330:../CANopen/driver/CO_driver_target.c ****         CO_CANrx_t *buffer = NULL;  /* receive message buffer from CO_CANmodule_t object. */
 993              	 .loc 1 330 0
 994 0008 0023     	 movs r3,#0
 995 000a BB62     	 str r3,[r7,#40]
 331:../CANopen/driver/CO_driver_target.c ****         bool_t msgMatched = false;
 996              	 .loc 1 331 0
 997 000c 0023     	 movs r3,#0
 998 000e 7B62     	 str r3,[r7,#36]
 332:../CANopen/driver/CO_driver_target.c **** 
 333:../CANopen/driver/CO_driver_target.c ****         CO_CANrxMsg_t receivedMessage;
 334:../CANopen/driver/CO_driver_target.c ****         rcvMsg = &receivedMessage;
 999              	 .loc 1 334 0
 1000 0010 07F10803 	 add r3,r7,#8
 1001 0014 3B62     	 str r3,[r7,#32]
 335:../CANopen/driver/CO_driver_target.c ****         rcvMsgIdent = 0;
 1002              	 .loc 1 335 0
 1003 0016 0023     	 movs r3,#0
 1004 0018 FB61     	 str r3,[r7,#28]
 336:../CANopen/driver/CO_driver_target.c **** 
 337:../CANopen/driver/CO_driver_target.c ****         CANopenNodeStatusTypeDef_t ret = xCANReceiveMessage(rcvMsg);
 1005              	 .loc 1 337 0
 1006 001a 386A     	 ldr r0,[r7,#32]
 1007 001c FFF7FEFF 	 bl xCANReceiveMessage
 1008 0020 0346     	 mov r3,r0
 1009 0022 FB76     	 strb r3,[r7,#27]
 338:../CANopen/driver/CO_driver_target.c **** 
 339:../CANopen/driver/CO_driver_target.c ****         if (ret == CAN_OPEN_NODE_OK)
 1010              	 .loc 1 339 0
 1011 0024 FB7E     	 ldrb r3,[r7,#27]
 1012 0026 002B     	 cmp r3,#0
 1013 0028 51D1     	 bne .L45
 340:../CANopen/driver/CO_driver_target.c ****         {
 341:../CANopen/driver/CO_driver_target.c ****             rcvMsgIdent = rcvMsg->ident;
 1014              	 .loc 1 341 0
 1015 002a 3B6A     	 ldr r3,[r7,#32]
 1016 002c 1B68     	 ldr r3,[r3]
 1017 002e FB61     	 str r3,[r7,#28]
 342:../CANopen/driver/CO_driver_target.c ****         
 343:../CANopen/driver/CO_driver_target.c ****             if(CANmodule->useCANrxFilters){
 1018              	 .loc 1 343 0
 1019 0030 7B68     	 ldr r3,[r7,#4]
 1020 0032 9B69     	 ldr r3,[r3,#24]
 1021 0034 002B     	 cmp r3,#0
 1022 0036 1CD0     	 beq .L46
 344:../CANopen/driver/CO_driver_target.c ****                 /* CAN module filters are used. Message with known 11-bit identifier has */
 345:../CANopen/driver/CO_driver_target.c ****                 /* been received */
 346:../CANopen/driver/CO_driver_target.c ****                 index = 0;  /* get index of the received message here. Or something similar */
 1023              	 .loc 1 346 0
 1024 0038 0023     	 movs r3,#0
 1025 003a FB85     	 strh r3,[r7,#46]
 347:../CANopen/driver/CO_driver_target.c ****                 if(index < CANmodule->rxSize){
 1026              	 .loc 1 347 0
 1027 003c 7B68     	 ldr r3,[r7,#4]
 1028 003e 1B89     	 ldrh r3,[r3,#8]
 1029 0040 FA8D     	 ldrh r2,[r7,#46]
 1030 0042 9A42     	 cmp r2,r3
 1031 0044 32D2     	 bcs .L48
 348:../CANopen/driver/CO_driver_target.c ****                     buffer = &CANmodule->rxArray[index];
 1032              	 .loc 1 348 0
 1033 0046 7B68     	 ldr r3,[r7,#4]
 1034 0048 5968     	 ldr r1,[r3,#4]
 1035 004a FA8D     	 ldrh r2,[r7,#46]
 1036 004c 1346     	 mov r3,r2
 1037 004e 5B00     	 lsls r3,r3,#1
 1038 0050 1344     	 add r3,r3,r2
 1039 0052 9B00     	 lsls r3,r3,#2
 1040 0054 0B44     	 add r3,r3,r1
 1041 0056 BB62     	 str r3,[r7,#40]
 349:../CANopen/driver/CO_driver_target.c ****                     /* verify also RTR */
 350:../CANopen/driver/CO_driver_target.c ****                     if(((rcvMsgIdent ^ buffer->ident) & buffer->mask) == 0U){
 1042              	 .loc 1 350 0
 1043 0058 BB6A     	 ldr r3,[r7,#40]
 1044 005a 1B88     	 ldrh r3,[r3]
 1045 005c 1A46     	 mov r2,r3
 1046 005e FB69     	 ldr r3,[r7,#28]
 1047 0060 5340     	 eors r3,r3,r2
 1048 0062 BA6A     	 ldr r2,[r7,#40]
 1049 0064 5288     	 ldrh r2,[r2,#2]
 1050 0066 1340     	 ands r3,r3,r2
 1051 0068 002B     	 cmp r3,#0
 1052 006a 1FD1     	 bne .L48
 351:../CANopen/driver/CO_driver_target.c ****                         msgMatched = true;
 1053              	 .loc 1 351 0
 1054 006c 0123     	 movs r3,#1
 1055 006e 7B62     	 str r3,[r7,#36]
 1056 0070 1CE0     	 b .L48
 1057              	.L46:
 352:../CANopen/driver/CO_driver_target.c ****                     }
 353:../CANopen/driver/CO_driver_target.c ****                 }
 354:../CANopen/driver/CO_driver_target.c ****             }
 355:../CANopen/driver/CO_driver_target.c ****             else{
 356:../CANopen/driver/CO_driver_target.c ****                 /* CAN module filters are not used, message with any standard 11-bit identifier */
 357:../CANopen/driver/CO_driver_target.c ****                 /* has been received. Search rxArray form CANmodule for the same CAN-ID. */
 358:../CANopen/driver/CO_driver_target.c ****                 buffer = &CANmodule->rxArray[0];
 1058              	 .loc 1 358 0
 1059 0072 7B68     	 ldr r3,[r7,#4]
 1060 0074 5B68     	 ldr r3,[r3,#4]
 1061 0076 BB62     	 str r3,[r7,#40]
 359:../CANopen/driver/CO_driver_target.c ****                 for(index = CANmodule->rxSize; index > 0U; index--){
 1062              	 .loc 1 359 0
 1063 0078 7B68     	 ldr r3,[r7,#4]
 1064 007a 1B89     	 ldrh r3,[r3,#8]
 1065 007c FB85     	 strh r3,[r7,#46]
 1066 007e 12E0     	 b .L49
 1067              	.L51:
 360:../CANopen/driver/CO_driver_target.c ****                     if(((rcvMsgIdent ^ buffer->ident) & buffer->mask) == 0U){
 1068              	 .loc 1 360 0
 1069 0080 BB6A     	 ldr r3,[r7,#40]
 1070 0082 1B88     	 ldrh r3,[r3]
 1071 0084 1A46     	 mov r2,r3
 1072 0086 FB69     	 ldr r3,[r7,#28]
 1073 0088 5340     	 eors r3,r3,r2
 1074 008a BA6A     	 ldr r2,[r7,#40]
 1075 008c 5288     	 ldrh r2,[r2,#2]
 1076 008e 1340     	 ands r3,r3,r2
 1077 0090 002B     	 cmp r3,#0
 1078 0092 02D1     	 bne .L50
 361:../CANopen/driver/CO_driver_target.c ****                         msgMatched = true;
 1079              	 .loc 1 361 0
 1080 0094 0123     	 movs r3,#1
 1081 0096 7B62     	 str r3,[r7,#36]
 362:../CANopen/driver/CO_driver_target.c ****                         break;
 1082              	 .loc 1 362 0
 1083 0098 08E0     	 b .L48
 1084              	.L50:
 363:../CANopen/driver/CO_driver_target.c ****                     }
 364:../CANopen/driver/CO_driver_target.c ****                     buffer++;
 1085              	 .loc 1 364 0 discriminator 2
 1086 009a BB6A     	 ldr r3,[r7,#40]
 1087 009c 0C33     	 adds r3,r3,#12
 1088 009e BB62     	 str r3,[r7,#40]
 359:../CANopen/driver/CO_driver_target.c ****                     if(((rcvMsgIdent ^ buffer->ident) & buffer->mask) == 0U){
 1089              	 .loc 1 359 0 discriminator 2
 1090 00a0 FB8D     	 ldrh r3,[r7,#46]
 1091 00a2 013B     	 subs r3,r3,#1
 1092 00a4 FB85     	 strh r3,[r7,#46]
 1093              	.L49:
 359:../CANopen/driver/CO_driver_target.c ****                     if(((rcvMsgIdent ^ buffer->ident) & buffer->mask) == 0U){
 1094              	 .loc 1 359 0 is_stmt 0 discriminator 1
 1095 00a6 FB8D     	 ldrh r3,[r7,#46]
 1096 00a8 002B     	 cmp r3,#0
 1097 00aa E9D1     	 bne .L51
 1098              	.L48:
 365:../CANopen/driver/CO_driver_target.c ****                 }
 366:../CANopen/driver/CO_driver_target.c ****             }
 367:../CANopen/driver/CO_driver_target.c **** 
 368:../CANopen/driver/CO_driver_target.c ****             /* Call specific function, which will process the message */
 369:../CANopen/driver/CO_driver_target.c ****             if(msgMatched && (buffer != NULL) && (buffer->CANrx_callback != NULL)){
 1099              	 .loc 1 369 0 is_stmt 1
 1100 00ac 7B6A     	 ldr r3,[r7,#36]
 1101 00ae 002B     	 cmp r3,#0
 1102 00b0 0DD0     	 beq .L45
 1103              	 .loc 1 369 0 is_stmt 0 discriminator 1
 1104 00b2 BB6A     	 ldr r3,[r7,#40]
 1105 00b4 002B     	 cmp r3,#0
 1106 00b6 0AD0     	 beq .L45
 1107              	 .loc 1 369 0 discriminator 2
 1108 00b8 BB6A     	 ldr r3,[r7,#40]
 1109 00ba 9B68     	 ldr r3,[r3,#8]
 1110 00bc 002B     	 cmp r3,#0
 1111 00be 06D0     	 beq .L45
 370:../CANopen/driver/CO_driver_target.c ****                 buffer->CANrx_callback(buffer->object, (void*) rcvMsg);
 1112              	 .loc 1 370 0 is_stmt 1
 1113 00c0 BB6A     	 ldr r3,[r7,#40]
 1114 00c2 9B68     	 ldr r3,[r3,#8]
 1115 00c4 BA6A     	 ldr r2,[r7,#40]
 1116 00c6 5268     	 ldr r2,[r2,#4]
 1117 00c8 1046     	 mov r0,r2
 1118 00ca 396A     	 ldr r1,[r7,#32]
 1119 00cc 9847     	 blx r3
 1120              	.L45:
 1121              	.LBE5:
 371:../CANopen/driver/CO_driver_target.c ****             }
 372:../CANopen/driver/CO_driver_target.c ****         }
 373:../CANopen/driver/CO_driver_target.c ****         /* Clear interrupt flag */
 374:../CANopen/driver/CO_driver_target.c ****     }
 375:../CANopen/driver/CO_driver_target.c **** 
 376:../CANopen/driver/CO_driver_target.c **** 
 377:../CANopen/driver/CO_driver_target.c ****     /* transmit interrupt */
 378:../CANopen/driver/CO_driver_target.c ****     else if(0){
 379:../CANopen/driver/CO_driver_target.c ****         /* Clear interrupt flag */
 380:../CANopen/driver/CO_driver_target.c **** 
 381:../CANopen/driver/CO_driver_target.c ****         /* First CAN message (bootup) was sent successfully */
 382:../CANopen/driver/CO_driver_target.c ****         CANmodule->firstCANtxMessage = false;
 383:../CANopen/driver/CO_driver_target.c ****         /* clear flag from previous message */
 384:../CANopen/driver/CO_driver_target.c ****         CANmodule->bufferInhibitFlag = false;
 385:../CANopen/driver/CO_driver_target.c ****         /* Are there any new messages waiting to be send */
 386:../CANopen/driver/CO_driver_target.c ****         if(CANmodule->CANtxCount > 0U){
 387:../CANopen/driver/CO_driver_target.c ****             uint16_t i;             /* index of transmitting message */
 388:../CANopen/driver/CO_driver_target.c **** 
 389:../CANopen/driver/CO_driver_target.c ****             /* first buffer */
 390:../CANopen/driver/CO_driver_target.c ****             CO_CANtx_t *buffer = &CANmodule->txArray[0];
 391:../CANopen/driver/CO_driver_target.c ****             /* search through whole array of pointers to transmit message buffers. */
 392:../CANopen/driver/CO_driver_target.c ****             for(i = CANmodule->txSize; i > 0U; i--){
 393:../CANopen/driver/CO_driver_target.c ****                 /* if message buffer is full, send it. */
 394:../CANopen/driver/CO_driver_target.c ****                 if(buffer->bufferFull){
 395:../CANopen/driver/CO_driver_target.c ****                     buffer->bufferFull = false;
 396:../CANopen/driver/CO_driver_target.c ****                     CANmodule->CANtxCount--;
 397:../CANopen/driver/CO_driver_target.c **** 
 398:../CANopen/driver/CO_driver_target.c ****                     /* Copy message to CAN buffer */
 399:../CANopen/driver/CO_driver_target.c ****                     CANmodule->bufferInhibitFlag = buffer->syncFlag;
 400:../CANopen/driver/CO_driver_target.c ****                     /* canSend... */
 401:../CANopen/driver/CO_driver_target.c ****                     break;                      /* exit for loop */
 402:../CANopen/driver/CO_driver_target.c ****                 }
 403:../CANopen/driver/CO_driver_target.c ****                 buffer++;
 404:../CANopen/driver/CO_driver_target.c ****             }/* end of for loop */
 405:../CANopen/driver/CO_driver_target.c **** 
 406:../CANopen/driver/CO_driver_target.c ****             /* Clear counter if no more messages */
 407:../CANopen/driver/CO_driver_target.c ****             if(i == 0U){
 408:../CANopen/driver/CO_driver_target.c ****                 CANmodule->CANtxCount = 0U;
 409:../CANopen/driver/CO_driver_target.c ****             }
 410:../CANopen/driver/CO_driver_target.c ****         }
 411:../CANopen/driver/CO_driver_target.c ****     }
 412:../CANopen/driver/CO_driver_target.c ****     else{
 413:../CANopen/driver/CO_driver_target.c ****         /* some other interrupt reason */
 414:../CANopen/driver/CO_driver_target.c ****     }
 415:../CANopen/driver/CO_driver_target.c **** }
 1122              	 .loc 1 415 0
 1123 00ce 3037     	 adds r7,r7,#48
 1124              	.LCFI56:
 1125              	 .cfi_def_cfa_offset 8
 1126 00d0 BD46     	 mov sp,r7
 1127              	.LCFI57:
 1128              	 .cfi_def_cfa_register 13
 1129              	 
 1130 00d2 80BD     	 pop {r7,pc}
 1131              	 .cfi_endproc
 1132              	.LFE15:
 1134              	 .text
 1135              	.Letext0:
 1136              	 .file 2 "d:\\programs\\infineon\\tools\\dave ide\\4.5.0.202105191637\\eclipse\\arm-gcc-49\\arm-none-eabi\\include\\machine\\_default_types.h"
 1137              	 .file 3 "d:\\programs\\infineon\\tools\\dave ide\\4.5.0.202105191637\\eclipse\\arm-gcc-49\\arm-none-eabi\\include\\stdint.h"
 1138              	 .file 4 "D:/Workspace/Development/my/DAVE/Infineon_CANopen/CANopen/driver/CO_driver_target.h"
 1139              	 .file 5 "D:/Workspace/Development/my/DAVE/Infineon_CANopen/CANopen/stack/301/CO_driver.h"
 1140              	 .file 6 "D:/Workspace/Development/my/DAVE/Infineon_CANopen/CANopen/CANopenNode.h"
DEFINED SYMBOLS
                            *ABS*:00000000 CO_driver_target.c
    {standard input}:20     .text.CO_CANsetConfigurationMode:00000000 $t
    {standard input}:25     .text.CO_CANsetConfigurationMode:00000000 CO_CANsetConfigurationMode
    {standard input}:61     .text.CO_CANsetNormalMode:00000000 $t
    {standard input}:66     .text.CO_CANsetNormalMode:00000000 CO_CANsetNormalMode
    {standard input}:105    .text.CO_CANmodule_init:00000000 $t
    {standard input}:110    .text.CO_CANmodule_init:00000000 CO_CANmodule_init
    {standard input}:306    .text.CO_CANmodule_disable:00000000 $t
    {standard input}:311    .text.CO_CANmodule_disable:00000000 CO_CANmodule_disable
    {standard input}:346    .text.CO_CANrxBufferInit:00000000 $t
    {standard input}:351    .text.CO_CANrxBufferInit:00000000 CO_CANrxBufferInit
    {standard input}:476    .text.CO_CANtxBufferInit:00000000 $t
    {standard input}:481    .text.CO_CANtxBufferInit:00000000 CO_CANtxBufferInit
    {standard input}:567    .text.CO_CANsend:00000000 $t
    {standard input}:572    .text.CO_CANsend:00000000 CO_CANsend
    {standard input}:668    .text.CO_CANclearPendingSyncPDOs:00000000 $t
    {standard input}:673    .text.CO_CANclearPendingSyncPDOs:00000000 CO_CANclearPendingSyncPDOs
    {standard input}:794    .bss.rxErrors:00000000 $d
    {standard input}:797    .bss.rxErrors:00000000 rxErrors
    {standard input}:800    .bss.txErrors:00000000 $d
    {standard input}:803    .bss.txErrors:00000000 txErrors
    {standard input}:806    .bss.overflow:00000000 $d
    {standard input}:809    .bss.overflow:00000000 overflow
    {standard input}:812    .text.CO_CANmodule_process:00000000 $t
    {standard input}:817    .text.CO_CANmodule_process:00000000 CO_CANmodule_process
    {standard input}:962    .text.CO_CANmodule_process:000000c8 $d
    {standard input}:969    .text.CO_CANinterrupt:00000000 $t
    {standard input}:974    .text.CO_CANinterrupt:00000000 CO_CANinterrupt
                     .debug_frame:00000010 $d

UNDEFINED SYMBOLS
xCANTransmitMessage
xCANReceiveMessage
